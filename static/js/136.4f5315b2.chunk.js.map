{"version":3,"file":"static/js/136.4f5315b2.chunk.js","mappings":"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","sources":["components/auth/login/Login.jsx","shared/utils/validators.js","shared/hoc/auth.hoc.js"],"sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { AuthHoc } from \"../../../shared/hoc/auth.hoc\";\nimport { loginUser } from \"../../../app/auth/auth\";\n\nexport function LoginComponent({\n  handleEmailChange,\n  handlePasswordChange,\n  handleAuthSubmit,\n  authState,\n}) {\n  const { user, errors } = authState;\n\n  return (\n    <div className=\"auth auth-login space\">\n      <h2>Welcome, back!</h2>\n      <form className=\"space\">\n        <div className=\"form-group\">\n          <label htmlFor=\"email\" className=\"sr-only\">\n            Username\n          </label>\n          <input\n            type=\"email\"\n            className=\"form-control\"\n            placeholder=\"Your email address\"\n            id=\"email\"\n            name=\"email\"\n            autoComplete=\"false\"\n            value={user.email}\n            onChange={handleEmailChange}\n          />\n          {errors.email.required ? (\n            <small className=\"form-error\">{errors.email.required}</small>\n          ) : null}\n          {errors.email.email ? (\n            <small className=\"form-error\">{errors.email.email}</small>\n          ) : null}\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"password\" className=\"sr-only\">\n            Password\n          </label>\n          <input\n            type=\"password\"\n            className=\"form-control\"\n            placeholder=\"Your password\"\n            id=\"password\"\n            name=\"password\"\n            autoComplete=\"false\"\n            value={user.password}\n            onChange={handlePasswordChange}\n          />\n          {errors.password.required ? (\n            <small className=\"form-error\">{errors.password.required}</small>\n          ) : null}\n        </div>\n        <div className=\"form-group form-actions\">\n          <button\n            type=\"submit\"\n            className=\"btn btn-primary\"\n            name=\"login\"\n            disabled={\n              errors.email.required ||\n              errors.email.email ||\n              errors.password.required\n            }\n            onClick={handleAuthSubmit}\n          >\n            Login\n          </button>\n        </div>\n        <div>\n          <small>\n            Do not have an account, <Link to=\"/register\">Register here</Link>\n          </small>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nconst Login = AuthHoc(LoginComponent, loginUser);\nexport default Login;\n","const validEmailRegex = /^[\\w-.]+@([\\w-]+\\.)+[\\w-]{2,4}$/;\n\nexport const Validators = {\n  email: (value) => validEmailRegex.test(value),\n  required: (value) => value && typeof value === 'string' && value.trim().length > 0,\n}","/* eslint-disable react-hooks/rules-of-hooks */\nimport React, { useReducer } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Validators } from \"../utils/validators\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst initialState = {\n  user: {\n    email: \"\",\n    password: \"\",\n  },\n  errors: {\n    email: \"\",\n    password: \"\",\n  },\n};\n\nconst ActionTypes = {\n  EMAIL: \"EMAIL\",\n  PASSWORD: \"PASSWORD\",\n  ERRORS: \"ERRORS\",\n};\n\nconst emailAction = (value) => {\n  return {\n    type: ActionTypes.EMAIL,\n    payload: value,\n  };\n};\n\nconst passwordAction = (value) => {\n  return {\n    type: ActionTypes.PASSWORD,\n    payload: value\n  }\n}\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ActionTypes.EMAIL:\n      return { ...state, user: { ...state.user, email: action.payload } };\n    case ActionTypes.PASSWORD:\n      return { ...state, user: { ...state.user, password: action.payload } };\n    case ActionTypes.ERRORS:\n      return { ...state, errors: { ...state.errors, ...action.payload } };\n    default:\n      return state;\n  }\n};\n\nexport const AuthHoc = (Component, authAction) => {\n  return () => {\n    const [state, dispatch] = useReducer(reducer, initialState);\n    const reduxDispatch = useDispatch();\n    const navigate = useNavigate();\n    const { user, errors } = state;\n\n    const handleAuthSubmit = async (e) => {\n      e.preventDefault();\n      if (\n        errors.email.required ||\n        errors.email.email ||\n        errors.password.required\n      ) {\n        return;\n      }\n\n      reduxDispatch(authAction(user, navigate));\n    };\n\n    const handleEmailChange = (e) => {\n      const value = e.target.value;\n      const emailError = {};\n      if (!Validators.email(value)) {\n        emailError.email = \"Invlaid email\";\n      }\n      if (!Validators.required(value)) {\n        emailError.required = \"Email is required\";\n      }\n      dispatch(emailAction(value));\n      dispatch({ type: ActionTypes.ERRORS, payload: { email: emailError } });\n    };\n\n    const handlePasswordChange = (e) => {\n      const value = e.target.value;\n      const passError = {};\n      if (!Validators.required(value)) {\n        passError.required = \"Password is required\";\n      }\n      dispatch(passwordAction(value));\n      dispatch({ type: ActionTypes.ERRORS, payload: { password: passError } });\n    };\n\n    return <Component handleAuthSubmit={handleAuthSubmit} handleEmailChange={handleEmailChange} handlePasswordChange={handlePasswordChange} authState={state} />\n  }\n}"],"names":["LoginComponent","_ref","handleEmailChange","handlePasswordChange","handleAuthSubmit","authState","user","errors","_jsxs","className","children","_jsx","htmlFor","type","placeholder","id","name","autoComplete","value","email","onChange","required","password","disabled","onClick","Link","to","AuthHoc","loginUser","validEmailRegex","Validators","test","trim","length","initialState","ActionTypes","reducer","state","arguments","undefined","action","payload","Component","authAction","dispatch","useReducer","reduxDispatch","useDispatch","navigate","useNavigate","async","e","preventDefault","target","emailError","emailAction","passError","passwordAction"],"sourceRoot":""}